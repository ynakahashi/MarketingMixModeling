---
title: "Marketing Mix Modeling"
author: ynakahashi
Date : 2017/5/23
output: html_notebook
---
### はじめに

### Marketing Mix Model（MMM）の作り方

#### MMM構築の前に考慮すべきもの
- ハロー効果、シナジー、カニバリ
    - MMMのカバー範囲
- 商品ライフサイクル
    - 対象となるのは安定期のみ
    - 新発売の時期は別の手法（森岡さん＠USJの手法？）
    - 終売期はモデルの問題ではなくオペレーションの問題
- モデルの活用者
    - 活用する主体によってモデルのスコープや施策（変数）の粒度が変わる

#### データを集める
- 構造を整理し、集めるデータを特定する
    - カスタマージャーニー、顧客ファネルと照合する
    - 因果関係の仮説整理
- データを確認する
    - 抜け漏れのチェック
       - ３Cによるチェック
       - 媒体の種類によるチェック
    - 数値のチェック
       - 基本的には「露出量」を表すデータを取得する
             - TVならGRP
             - DigitalならPV、クリック数など
             - 新聞、雑誌、チラシなら部数
    - 実用性のチェック
       - 実績値であるか
          - 実績値ではない場合、その修正の必要性や方法
       - データの発生タイミング
          - 広告の場合、買い付け時なのか出稿した時なのか
          - 目的変数も購買なのか予約なのか、そのラグはどの程度か
       - 分析の目的が将来予測である場合、予測時に使用可能で無理のないラグを考慮しているか
       - 意思決定者やモデルの活用者に合わせた粒度への分解または統合
    - チェックリストの作成
       - ファイル名
       - 担当部署
       - 対象となるデータ

#### データを（一次）加工する
- 粒度は最小のものに合わせる
- 週次データの場合
    - 月曜始まりか日曜始まりなのか
    - 53週ある年の処理

#### データを眺める
- 時系列プロット
    - 時系列における注意点（単位根や共和分など）
- コレログラム

#### データを分析する
- 時系列を分解する
    - 移動平均による方法
    - 局所回帰による方法
- モデル化する方法
    - 加法型と積乗型
       - それぞれの考え方とプロコン
       - 積乗型における回帰係数は弾力性
    - アルゴリズム
       - 回帰、状態空間、エージェントベース

#### モデルを構築する
 - 季節性を取り上げる
     - 年次フラグ
     - 月次フラグ
     - 週次フラグ
     - 季節的なイベント
         - 暦（正月、年度、GW、お盆、SW、暮）
         - 気候、天候（春夏秋冬、気温、湿度、風速）

     - 突発的なイベント
         - 地震、台風、紛争、アメリカ大統領選挙、

 - 景況を表す
     - 景況指標
         - 種類
             - 先行、一致、遅行指数
             - CI、DIのようなインデックス
             
         - 目的変数にあった指標
                 - 車：自動車消費支出
                 - 家具：新築戸建数
                 - 家：住宅ローンの固定利率のような

     - 税制度の変更
         - 消費増税、グリーン税制（エコカー減税、エコポイント）など

 - 施策を取り込む
     - 施策の種類
         - プロモーションやキャンペーン
             - ラグ
             - 残存効果（Ad-Stock）
                 - Koyck型
                 - Almon型
                 - パルダモデル
                     - https://business-1.net/roi/
                     - http://www.mm-lab.jp/report/advertising-effectiveness-measurement-50-years-ago/

             - 飽和曲線
                 - Linear、Log、Sigmoid
             - 交互作用
             - 長期的効果と短期的効果

         - インセンティブ
             - 効果の定義（支出額をそのまま使えないので単価や利率を用いる）

     - 施策の投入
         - 全ての施策が＋となる

 - その他の要因を考慮する
     - パッケージの変更などの商品ライフサイクル
     - 耐久消費財の場合、発売からの経過期間（エイジング）

 - 変数を絞り込む
     - 優先順位
         - Ad-Stockから
     - 基準
         - 振り返りモデルと予測モデル

#### モデルを評価する
- 施策による貢献度を見積もる
    - 施策による効果の量
    - ベースラインの比率
    - ROI
       - 季節性を除外する
    - １００万円あたり獲得量
- 統計的な指標を算出する
    - AICなどのモデルの適合度
    - VIFなどの変数の妥当性
    - DWによる自己回帰の有無

#### モデルを活用する
- シミュレーション
- 最適化

#### モデルを高度化する
- 非線形な効果を推定する
    - 残存やエイジングなどを同時に推定
- 階層化
    - （エリアなど）階層化の対象となる要因をまとめる
       - 固定効果と変量効果
- 因果関係をモデルから特定する
    - SEMやベイジアンネットワークなどによる構造化
    - グレンジャー因果

